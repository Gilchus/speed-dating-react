[{"C:\\Users\\luis-\\OneDrive\\Dokumente\\GitHub\\speed-dating-react\\src\\index.js":"1","C:\\Users\\luis-\\OneDrive\\Dokumente\\GitHub\\speed-dating-react\\src\\App.js":"2","C:\\Users\\luis-\\OneDrive\\Dokumente\\GitHub\\speed-dating-react\\src\\Button.js":"3","C:\\Users\\luis-\\OneDrive\\Dokumente\\GitHub\\speed-dating-react\\src\\UserList.js":"4"},{"size":189,"mtime":1607286581567,"results":"5","hashOfConfig":"6"},{"size":5365,"mtime":1607454313922,"results":"7","hashOfConfig":"6"},{"size":276,"mtime":1607454018736,"results":"8","hashOfConfig":"6"},{"size":348,"mtime":1607286581567,"results":"9","hashOfConfig":"6"},{"filePath":"10","messages":"11","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"12"},"1yoqyva",{"filePath":"13","messages":"14","errorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":0,"source":"15"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"18","usedDeprecatedRules":"12"},{"filePath":"19","messages":"20","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"21","usedDeprecatedRules":"12"},"C:\\Users\\luis-\\OneDrive\\Dokumente\\GitHub\\speed-dating-react\\src\\index.js",[],["22","23"],"C:\\Users\\luis-\\OneDrive\\Dokumente\\GitHub\\speed-dating-react\\src\\App.js",["24","25","26","27","28","29","30","31","32","33","34","35","36"],"import React, { useEffect, useRef, useState } from \"react\";\r\nimport \"./App.css\";\r\nimport Button from \"./Button\";\r\nimport UserList from \"./UserList\";\r\n\r\nfunction App() {\r\n\r\n  const [users, setUsers] = useState([\r\n    \r\n  ]);\r\n  const [inputText, setInputText] = useState(\"\");\r\n  const [inputErrorText, setInputErrorText] = useState(null);\r\n  const [currentRound, setCurrentRound] = useState(0);\r\n  const [sessionData, setSessionData] = useState({rounds: []});\r\n  const [sessionStarted, setSessionStarted] = useState(true);\r\n  console.log(sessionData);\r\n\r\n  useEffect(() => {\r\n    if (currentRound != 0) {\r\n      console.log(\"use effect\");\r\n      const matchings = [];\r\n\r\n      const matchingsAmount = Math.floor(users.length / 2);\r\n      const isUnevenAmountOfUsers = users.lenght % 2 != 0;\r\n      console.log({matchingsAmount});\r\n\r\n      const userAlreadyMatched = (userB, matchings)=> {return matchings.find((matching) => {\r\n          if (matching.users.includes(userB)) return true;\r\n         })}\r\n\r\n      for (let i = 0; i < matchingsAmount; i++) {\r\n        let userA = users[Math.floor(Math.random() * users.length)];\r\n        \r\n        while (\r\n          matchings.find((matching) => {\r\n            if (matching.users.includes(userA)) return true;\r\n          })\r\n        ) {\r\n          userA = users[Math.floor(Math.random() * users.length)];\r\n        }\r\n        \r\n        const matchingsMap = new Map();\r\n        for (const user of users) {\r\n          if (user == userA) continue;\r\n          if (userAlreadyMatched(user, matchings)) continue;\r\n          let matchingCount = 0;\r\n          for (const round of sessionData.rounds) {\r\n            for (const matching of round.matchings) {\r\n              if (matching.users.includes(userA) && matching.users.includes(user)) {\r\n                matchingCount++;\r\n                break;\r\n              }\r\n            }\r\n          }\r\n          matchingsMap.set(user, matchingCount);\r\n        }\r\n\r\n        console.log(\"matching \" + userA)\r\n\r\n        console.log(matchingsMap);\r\n\r\n        let minValue = Number.MAX_VALUE;\r\n        for (const v of matchingsMap.values()) {\r\n          if (v < minValue) {\r\n            minValue = v;\r\n          }\r\n        }\r\n\r\n        const relevantUsers = [];\r\n\r\n        for (const u of matchingsMap.keys()) {\r\n          if (matchingsMap.get(u) == minValue) {\r\n            relevantUsers.push(u);\r\n          }\r\n        }\r\n\r\n        let userB = relevantUsers[Math.floor(Math.random() * relevantUsers.length)];\r\n  \r\n        console.log(\"Matched \" + userB)\r\n\r\n        const matchingUsers = [userA, userB];\r\n        matchings.push({ users: matchingUsers });\r\n      }\r\n      if (isUnevenAmountOfUsers) {\r\n        const singleUser = users.find((user)=> {return !userAlreadyMatched(user, matchings)});\r\n        console.log({singleUser});\r\n        const chosenMatching = matchings[Math.floor(Math.random() * matchings.length)];\r\n        chosenMatching.users.push(singleUser);\r\n      }\r\n\r\n      \r\n      \r\n    \r\n      const round = {number: currentRound, matchings}\r\n      const rounds = sessionData.rounds;\r\n      rounds.push(round);\r\n      setSessionData({ rounds });\r\n    }\r\n  }, [currentRound]);\r\n\r\n  const handleTextChange = (event) => {\r\n    setInputText(event.target.value);\r\n  };\r\n\r\n  let content = null;\r\n\r\n  if (sessionStarted) {\r\n  if (currentRound == 0) {\r\n    const inputErrorContent =\r\n      inputErrorText != null ? (\r\n        <p className=\"InputError\">{inputErrorText}</p>\r\n      ) : null;\r\n    content = (\r\n      <div>\r\n        <h2 className=\"UserCounter\">Users: {users.length}</h2>\r\n        <UserList users={users} />\r\n        <form onSubmit={(event)=>{event.preventDefault() \r\n        if (!users.includes(inputText)) {\r\n              users.push(inputText);\r\n              setInputText(\"\");\r\n              console.log(users);\r\n              setInputErrorText(\"\");\r\n            } else {\r\n              setInputErrorText(\"User \" + inputText + \" is already added!\");\r\n              setInputText(\"\");\r\n            }\r\n          }}>\r\n        <input\r\n          type=\"text\"\r\n          onChange={handleTextChange}\r\n          value={inputText}\r\n          placeholder=\"Type name\"\r\n        ></input>\r\n        {inputErrorContent}\r\n        <Button\r\n          type=\"submit\"\r\n          text=\"Add User\"\r\n          onClick={() => {}}\r\n        ></Button>\r\n        </form>\r\n        <Button\r\n          type=\"button\"\r\n          text=\"Start Session\"\r\n          onClick={() => {\r\n            setCurrentRound(1);\r\n          }}\r\n        ></Button>\r\n      </div>\r\n    );\r\n  } else {\r\n    let matchingsContent = null;\r\n    const currentRoundObject = sessionData.rounds.find((round)=> {return round.number == currentRound})\r\n    \r\n    if (currentRoundObject) {\r\n    \r\n      matchingsContent = currentRoundObject.matchings.map((matching, index) => (\r\n        <p className=\"MatchingsList\" key={index}>\r\n          {index + 1}: {matching.users[0]} - {matching.users[1]}{matching.users[2] ? \" - \" + matching.users[2] : null}\r\n        </p>\r\n      ));\r\n    }\r\n    content = <div>{matchingsContent}\r\n    <Button\r\n          text=\"Next Round\"\r\n          onClick={() => {\r\n            setCurrentRound(currentRound + 1);\r\n          }}\r\n        ></Button></div>;\r\n  }\r\n} else {}\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <h1>Speed Dating for Founders</h1>\r\n      {content}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","C:\\Users\\luis-\\OneDrive\\Dokumente\\GitHub\\speed-dating-react\\src\\Button.js",["37","38"],"import React, { useRef, useState } from \"react\";\r\nimport \"./App.css\";\r\n\r\nfunction Button({ text, onClick, type }) {\r\n  return (\r\n    <div className=\"ButtonContainer\">\r\n      <button onClick={onClick} type={type}>{text}</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Button;\r\n","C:\\Users\\luis-\\OneDrive\\Dokumente\\GitHub\\speed-dating-react\\src\\UserList.js",["39","40"],"import React, { useRef, useState } from \"react\";\r\nimport \"./App.css\";\r\n\r\nfunction UserList({ users }) {\r\n  const userListContent = users.map((user) => {\r\n    return (\r\n      <p className=\"UserName\" key={user}>\r\n        {user}\r\n      </p>\r\n    );\r\n  });\r\n\r\n  return <div className=\"UserList\">{userListContent}</div>;\r\n}\r\n\r\nexport default UserList;\r\n",{"ruleId":"41","replacedBy":"42"},{"ruleId":"43","replacedBy":"44"},{"ruleId":"45","severity":1,"message":"46","line":1,"column":28,"nodeType":"47","messageId":"48","endLine":1,"endColumn":34},{"ruleId":"45","severity":1,"message":"49","line":8,"column":17,"nodeType":"47","messageId":"48","endLine":8,"endColumn":25},{"ruleId":"45","severity":1,"message":"50","line":15,"column":26,"nodeType":"47","messageId":"48","endLine":15,"endColumn":43},{"ruleId":"51","severity":1,"message":"52","line":19,"column":22,"nodeType":"53","messageId":"54","endLine":19,"endColumn":24},{"ruleId":"51","severity":1,"message":"52","line":24,"column":54,"nodeType":"53","messageId":"54","endLine":24,"endColumn":56},{"ruleId":"55","severity":1,"message":"56","line":27,"column":89,"nodeType":"57","messageId":"58","endLine":27,"endColumn":91},{"ruleId":"59","severity":1,"message":"60","line":35,"column":26,"nodeType":"57","messageId":"61","endLine":37,"endColumn":12},{"ruleId":"55","severity":1,"message":"56","line":35,"column":37,"nodeType":"57","messageId":"58","endLine":35,"endColumn":39},{"ruleId":"51","severity":1,"message":"62","line":44,"column":20,"nodeType":"53","messageId":"54","endLine":44,"endColumn":22},{"ruleId":"51","severity":1,"message":"62","line":72,"column":35,"nodeType":"53","messageId":"54","endLine":72,"endColumn":37},{"ruleId":"63","severity":1,"message":"64","line":99,"column":6,"nodeType":"65","endLine":99,"endColumn":20,"suggestions":"66"},{"ruleId":"51","severity":1,"message":"62","line":108,"column":20,"nodeType":"53","messageId":"54","endLine":108,"endColumn":22},{"ruleId":"51","severity":1,"message":"62","line":152,"column":87,"nodeType":"53","messageId":"54","endLine":152,"endColumn":89},{"ruleId":"45","severity":1,"message":"46","line":1,"column":17,"nodeType":"47","messageId":"48","endLine":1,"endColumn":23},{"ruleId":"45","severity":1,"message":"67","line":1,"column":25,"nodeType":"47","messageId":"48","endLine":1,"endColumn":33},{"ruleId":"45","severity":1,"message":"46","line":1,"column":17,"nodeType":"47","messageId":"48","endLine":1,"endColumn":23},{"ruleId":"45","severity":1,"message":"67","line":1,"column":25,"nodeType":"47","messageId":"48","endLine":1,"endColumn":33},"no-native-reassign",["68"],"no-negated-in-lhs",["69"],"no-unused-vars","'useRef' is defined but never used.","Identifier","unusedVar","'setUsers' is assigned a value but never used.","'setSessionStarted' is assigned a value but never used.","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","array-callback-return","Array.prototype.find() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","no-loop-func","Function declared in a loop contains unsafe references to variable(s) 'userA'.","unsafeRefs","Expected '===' and instead saw '=='.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'sessionData.rounds' and 'users'. Either include them or remove the dependency array.","ArrayExpression",["70"],"'useState' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"71","fix":"72"},"Update the dependencies array to be: [currentRound, sessionData.rounds, users]",{"range":"73","text":"74"},[3148,3162],"[currentRound, sessionData.rounds, users]"]